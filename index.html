<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base44 Clock</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Optional: Add a smooth scroll for the body */
        body {
            transition: background-color 2.5s ease;
        }
        /* Hide the scrollbar but keep it functional */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body class="bg-black text-white font-mono flex items-center justify-center min-h-screen">

    <div id="base44-clock" class="text-4xl sm:text-7xl md:text-9xl font-bold tracking-tighter">
        </div>

    <div id="info-overlay" class="fixed top-4 right-4 text-xs sm:text-sm p-2 rounded-lg bg-gray-800 bg-opacity-70 backdrop-blur-sm shadow-xl">
        <div class="text-gray-400">Decimal Time: <span id="decimal-time" class="text-white font-medium"></span></div>
        <div class="text-gray-400">Base44 Time: <span id="base44-time" class="text-white font-medium"></span></div>
    </div>

    <script>
        // --- BASE44 CONVERSION LOGIC ---

        const BASE44_SYMBOLS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()_+';
        const BASE = 44;

        /**
         * Converts a decimal number to a Base44 string representation.
         * @param {number} decimalNumber
         * @returns {string}
         */
        function base44Convert(decimalNumber) {
            if (decimalNumber === 0) return BASE44_SYMBOLS[0];

            let base44 = '';
            let current = decimalNumber;

            while (current > 0) {
                const remainder = current % BASE;
                base44 = BASE44_SYMBOLS[remainder] + base44;
                current = Math.floor(current / BASE);
            }

            return base44;
        }

        // --- TIME & DOM UPDATE LOGIC ---

        const base44Clock = document.getElementById('base44-clock');
        const decimalTimeElement = document.getElementById('decimal-time');
        const base44TimeElement = document.getElementById('base44-time');
        const bodyElement = document.body;

        /**
         * The main function to calculate and update all time displays.
         */
        function updateTime() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            const seconds = now.getSeconds();

            // 1. Calculate Base44 total seconds of the day
            const secondsInDay = (hours * 3600) + (minutes * 60) + seconds;
            const decimalTime = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

            // 2. Convert total seconds to Base44
            const base44Result = base44Convert(secondsInDay);

            // The resulting time string needs to be padded to 3 characters for consistency (44^3 = 85184, and 86400 seconds in a day is too much for 3 characters, but the conversion is for the whole day, so 3 chars will suffice for the *parts* if we break it down, but the original was one single number)
            // *The React component converted the TOTAL seconds of the day to a single Base44 number.*
            // Since 86400 total seconds of the day is too large for 3 Base44 characters (max is 85183), the output will be 4 characters long most of the day.
            const fullBase44Time = base44Result.padStart(4, '0');


            // 3. Extract the parts for the main display and format
            const part1 = fullBase44Time.slice(0, 1);
            const part2 = fullBase44Time.slice(1, 2);
            const part3 = fullBase44Time.slice(2, 3);
            const part4 = fullBase44Time.slice(3, 4);

            base44Clock.innerHTML = `
                <span class="text-gray-600">${part1}</span>
                <span class="text-gray-400">${part2}</span>
                <span class="text-white">${part3}</span>
                <span class="text-4xl sm:text-7xl md:text-9xl text-green-500 animate-pulse">:</span>
                <span class="text-green-500">${part4}</span>
            `;

            // 4. Update the info overlay
            decimalTimeElement.textContent = decimalTime;
            base44TimeElement.textContent = fullBase44Time;

            // 5. Update Background Color (Based on the last Base44 character's index)
            const lastChar = fullBase44Time.slice(-1);
            const index = BASE44_SYMBOLS.indexOf(lastChar);
            
            // Normalize index (0-43) to a hue (0-360) for color
            const hue = Math.round((index / (BASE - 1)) * 360);
            bodyElement.style.backgroundColor = `hsl(${hue}, 50%, 5%)`;
        }

        // --- INITIALIZE ---

        // Run immediately to prevent a flash of unstyled/empty content
        updateTime();

        // Update every 1000ms (1 second)
        setInterval(updateTime, 1000);
    </script>

</body>
</html>
